{% extends 'template 2.html' %}
{% block title %} Список отгрузок {% endblock %}

{% block main %}
    
    <h1 class="header">Список отгрузок</h1>
    <div class="center-container">
        {% if shipments|length > 0 %}
        <div class="content-container">
            <h2 class="content-title">Поиск отгрузки</h2>
            <div class="search-container">
                <form action="{% url 'get_shipment' %}" method="get" class="search-form">
                    <input type="text" name="shipment_number" placeholder="Введите номер отгрузки" required class="search-field">
                    <button class="button">Поиск</button>
                </form>
            </div>
        </div>
        {% endif %}
        <div class="content-container">
            <button class="one-button-container" onclick="location.href='{% url 'shipment_add' %}'">Добавить отгрузку</button>
        </div>
        {% if shipments|length > 0 %}
        <div class="content-container">
            <h2 class="content-title">История отгрузок</h2>
            <button class="one-button-container" onclick="location.href='{% url 'shipment_list' %}?order_by={% if order_by == 'asc' %}desc{% else %}asc{% endif %}'">
                {% if order_by == 'asc' %}
                    Сортировать по убыванию
                {% else %}
                    Сортировать по возрастанию
                {% endif %}
            </button>
            <div class="content">
                {% for shipment in shipments %}
                    <div class="item">
                        <div class="info">
                            <div class="id">№ {{ shipment.id }}</div>
                            <div class="supply-supplier">{{ shipment.shipDate }}</div>
                        </div>
                            <button class="button" onclick="location.href='{% url 'shipment_detail' shipment_number=shipment.id %}'">Открыть</button>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% else %}
    <h2 class="empty-title">Список отгрузок пуст</h2>
    {% endif %}
{% endblock %}
